{% load static %}

<div class="user-card" data-quick-actions='[{"icon": "ðŸ’¬", "label": "Envoyer un message", "url": "{% url "connect-messages" %}?user_id={{ user.id }}"}, {"icon": "âž•", "label": "Ajouter en connexion", "action": "sendConnectionRequest"}, {"icon": "ðŸ‘ï¸", "label": "Voir le profil", "url": "{% url "profile-user" user.id %}"}]'>
    {% if user.profile_picture %}
        <img src="{{ user.profile_picture.url }}" alt="{{ user.get_full_name|default:user.username }}" class="user-card-avatar">
    {% else %}
        <div class="user-card-avatar" style="background: var(--color-accent-light); display: flex; align-items: center; justify-content: center; color: var(--color-accent); font-weight: 600;">
            {{ user.username|first|upper }}
        </div>
    {% endif %}
    <div class="user-card-info">
        <div class="user-card-name">
            <a href="{% url 'profile-user' user.id %}" style="text-decoration: none; color: inherit;">
                {{ user.get_full_name|default:user.username }}
            </a>
            {% if user.is_verified %}
                <span title="Utilisateur vÃ©rifiÃ©" aria-label="Utilisateur vÃ©rifiÃ©">âœ“</span>
            {% endif %}
        </div>
        <div class="user-card-meta">
            {% if user.profession %}
                {{ user.profession }}
            {% endif %}
            {% if user.ville %}
                {% if user.profession %} â€¢ {% endif %}
                {{ user.ville }}
            {% endif %}
        </div>
    </div>
</div>

