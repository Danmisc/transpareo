{% extends "core/base.html" %}
{% load static %}

{% block title %}Comment nos algorithmes fonctionnent - Transpareo{% endblock %}

{% block extra_head %}
<style>
    .transparency-hero {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 80px 20px;
        text-align: center;
    }
    
    .transparency-hero h1 {
        font-size: 3rem;
        margin-bottom: 20px;
        font-weight: 700;
    }
    
    .transparency-hero p {
        font-size: 1.2rem;
        opacity: 0.95;
        max-width: 800px;
        margin: 0 auto;
    }
    
    .transparency-content {
        max-width: 1200px;
        margin: 60px auto;
        padding: 0 20px;
    }
    
    .section {
        margin-bottom: 80px;
    }
    
    .section h2 {
        font-size: 2.5rem;
        color: #333;
        margin-bottom: 30px;
        border-bottom: 3px solid #667eea;
        padding-bottom: 15px;
    }
    
    .section h3 {
        font-size: 1.8rem;
        color: #444;
        margin-top: 40px;
        margin-bottom: 20px;
    }
    
    .section p {
        font-size: 1.1rem;
        line-height: 1.8;
        color: #666;
        margin-bottom: 20px;
    }
    
    .algorithm-diagram {
        background: #f8f9fa;
        border-radius: 12px;
        padding: 40px;
        margin: 40px 0;
        border: 2px solid #e9ecef;
    }
    
    .algorithm-flow {
        display: flex;
        flex-direction: column;
        gap: 20px;
        margin: 30px 0;
    }
    
    .flow-step {
        background: white;
        padding: 25px;
        border-radius: 8px;
        border-left: 4px solid #667eea;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    
    .flow-step h4 {
        color: #667eea;
        margin-bottom: 10px;
        font-size: 1.3rem;
    }
    
    .flow-step p {
        margin: 0;
        color: #555;
    }
    
    .example-box {
        background: #fff3cd;
        border-left: 4px solid #ffc107;
        padding: 20px;
        margin: 20px 0;
        border-radius: 4px;
    }
    
    .example-box h4 {
        color: #856404;
        margin-bottom: 10px;
    }
    
    .zero-dark-pattern {
        background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
        color: white;
        padding: 40px;
        border-radius: 12px;
        margin: 40px 0;
        text-align: center;
    }
    
    .zero-dark-pattern h3 {
        color: white;
        font-size: 2rem;
        margin-bottom: 15px;
    }
    
    .zero-dark-pattern p {
        color: rgba(255,255,255,0.95);
        font-size: 1.1rem;
    }
    
    .ranking-factors {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
        margin: 30px 0;
    }
    
    .factor-card {
        background: white;
        padding: 20px;
        border-radius: 8px;
        border: 2px solid #e9ecef;
        text-align: center;
    }
    
    .factor-card .icon {
        font-size: 2.5rem;
        margin-bottom: 10px;
    }
    
    .factor-card h4 {
        color: #333;
        margin-bottom: 10px;
    }
    
    .factor-card p {
        font-size: 0.95rem;
        color: #666;
        margin: 0;
    }
    
    .code-example {
        background: #282c34;
        color: #abb2bf;
        padding: 20px;
        border-radius: 8px;
        overflow-x: auto;
        font-family: 'Courier New', monospace;
        margin: 20px 0;
    }
    
    .code-example .keyword { color: #c678dd; }
    .code-example .string { color: #98c379; }
    .code-example .comment { color: #5c6370; }
    
    @media (max-width: 768px) {
        .transparency-hero h1 {
            font-size: 2rem;
        }
        
        .section h2 {
            font-size: 1.8rem;
        }
        
        .ranking-factors {
            grid-template-columns: 1fr;
        }
    }
</style>
{% endblock %}

{% block content %}
<div class="transparency-hero">
    <h1>üîç Comment nos algorithmes fonctionnent</h1>
    <p>Transparence totale sur nos syst√®mes de classement, filtrage et recommandation</p>
</div>

<div class="transparency-content">
    <!-- Zero Dark Pattern Policy -->
    <div class="zero-dark-pattern">
        <h3>‚ú® Zero-Dark Pattern Policy</h3>
        <p>
            Chez Transpareo, nous nous engageons √† ne jamais utiliser de "dark patterns" (interfaces trompeuses).
            Nos algorithmes sont con√ßus pour servir vos int√©r√™ts, pas les n√¥tres. Aucune manipulation psychologique,
            aucun biais cach√©, aucune incitation √† l'achat non d√©sir√©.
        </p>
    </div>

    <!-- Section 1: Classement des logements -->
    <section class="section">
        <h2>1. Classement des logements dans les r√©sultats de recherche</h2>
        
        <p>
            Quand vous recherchez un logement, nous classons les r√©sultats selon plusieurs facteurs pour vous montrer
            les biens les plus pertinents en premier. Voici comment cela fonctionne :
        </p>
        
        <div class="algorithm-diagram">
            <h3>Facteurs de classement</h3>
            <div class="ranking-factors">
                <div class="factor-card">
                    <div class="icon">üìç</div>
                    <h4>Proximit√©</h4>
                    <p>Distance par rapport √† votre recherche</p>
                </div>
                <div class="factor-card">
                    <div class="icon">‚≠ê</div>
                    <h4>Note moyenne</h4>
                    <p>Qualit√© selon les avis des locataires</p>
                </div>
                <div class="factor-card">
                    <div class="icon">üí¨</div>
                    <h4>Nombre d'avis</h4>
                    <p>Plus il y a d'avis, plus c'est fiable</p>
                </div>
                <div class="factor-card">
                    <div class="icon">üïê</div>
                    <h4>Fra√Æcheur</h4>
                    <p>Annonces r√©centes privil√©gi√©es</p>
                </div>
                <div class="factor-card">
                    <div class="icon">‚úÖ</div>
                    <h4>V√©rification</h4>
                    <p>Propri√©taires v√©rifi√©s en priorit√©</p>
                </div>
                <div class="factor-card">
                    <div class="icon">üìä</div>
                    <h4>Pertinence</h4>
                    <p>Correspondance avec vos crit√®res</p>
                </div>
            </div>
        </div>
        
        <div class="algorithm-flow">
            <div class="flow-step">
                <h4>√âtape 1 : Filtrage initial</h4>
                <p>Nous filtrons les logements selon vos crit√®res (prix, localisation, type, etc.)</p>
            </div>
            <div class="flow-step">
                <h4>√âtape 2 : Calcul du score de pertinence</h4>
                <p>Chaque logement re√ßoit un score bas√© sur les facteurs ci-dessus</p>
            </div>
            <div class="flow-step">
                <h4>√âtape 3 : Tri par score d√©croissant</h4>
                <p>Les logements sont class√©s du plus pertinent au moins pertinent</p>
            </div>
            <div class="flow-step">
                <h4>√âtape 4 : Affichage pagin√©</h4>
                <p>Les r√©sultats sont pr√©sent√©s par pages de 20 logements</p>
            </div>
        </div>
        
        <div class="example-box">
            <h4>Exemple concret</h4>
            <p>
                <strong>Sc√©nario :</strong> Vous cherchez un 2 pi√®ces √† Toulouse, budget 600‚Ç¨/mois.
            </p>
            <p>
                <strong>Classement :</strong> Un logement avec 4.8/5 (50 avis), propri√©taire v√©rifi√©, 
                publi√© il y a 2 jours, √† 500m de votre recherche, sera class√© avant un logement avec 
                3.5/5 (5 avis), non v√©rifi√©, publi√© il y a 3 mois, √† 2km.
            </p>
        </div>
    </section>

    <!-- Section 2: Filtrage du contenu Connect -->
    <section class="section">
        <h2>2. Filtrage et classement du contenu dans Transpareo Connect</h2>
        
        <p>
            Dans votre feed Transpareo Connect, nous utilisons un algorithme de "smart ranking" qui privil√©gie
            la pertinence plut√¥t que simplement la date de publication.
        </p>
        
        <div class="algorithm-diagram">
            <h3>Facteurs de pertinence</h3>
            <ul style="font-size: 1.1rem; line-height: 2;">
                <li><strong>Connexions :</strong> Les posts de vos connexions apparaissent en priorit√©</li>
                <li><strong>Engagement :</strong> Les posts avec beaucoup de r√©actions/comments sont boost√©s</li>
                <li><strong>Int√©r√™ts :</strong> Les posts li√©s √† vos groupes/th√®mes favoris</li>
                <li><strong>R√©cence :</strong> Les posts r√©cents sont favoris√©s, mais pas exclusivement</li>
                <li><strong>Type de contenu :</strong> Vous pouvez filtrer par type (actualit√©s, guides, offres, etc.)</li>
            </ul>
        </div>
        
        <div class="algorithm-flow">
            <div class="flow-step">
                <h4>√âtape 1 : Collecte des posts</h4>
                <p>R√©cup√©ration de tous les posts pertinents (de vos connexions, groupes, sujets suivis)</p>
            </div>
            <div class="flow-step">
                <h4>√âtape 2 : Calcul du score de pertinence</h4>
                <p>
                    Score = (connexion √ó 2) + (engagement √ó 1.5) + (int√©r√™ts √ó 1.2) + (r√©cence √ó 1.0)
                </p>
            </div>
            <div class="flow-step">
                <h4>√âtape 3 : Tri et affichage</h4>
                <p>Les posts sont tri√©s par score d√©croissant et affich√©s dans votre feed</p>
            </div>
        </div>
        
        <div class="example-box">
            <h4>Exemple concret</h4>
            <p>
                <strong>Sc√©nario :</strong> Vous √™tes connect√© √† 10 personnes et suivez le groupe "Locataires Toulouse".
            </p>
            <p>
                <strong>Classement :</strong> Un post de votre connexion sur "Conseils pour n√©gocier un bail" 
                avec 50 r√©actions appara√Ætra avant un post anonyme de 2 jours avec 2 r√©actions, m√™me si ce dernier 
                est plus r√©cent.
            </p>
        </div>
    </section>

    <!-- Section 3: Recommandations d'utilisateurs -->
    <section class="section">
        <h2>3. Recommandations d'utilisateurs (IA)</h2>
        
        <p>
            Notre syst√®me de suggestions utilise des algorithmes bas√©s sur la similarit√© et la proximit√©,
            jamais sur la vente de donn√©es ou le tracking invasif.
        </p>
        
        <div class="algorithm-diagram">
            <h3>Crit√®res de suggestion</h3>
            <ul style="font-size: 1.1rem; line-height: 2;">
                <li><strong>Proximit√© g√©ographique :</strong> Utilisateurs de la m√™me ville/r√©gion</li>
                <li><strong>Profil similaire :</strong> M√™me type (locataire/propri√©taire), profession proche</li>
                <li><strong>Int√©r√™ts communs :</strong> Groupes, sujets suivis similaires</li>
                <li><strong>R√©seau commun :</strong> Connexions mutuelles</li>
                <li><strong>Quartier sp√©cialis√© :</strong> Utilisateurs actifs dans les m√™mes quartiers</li>
            </ul>
        </div>
        
        <div class="code-example">
            <span class="comment">// Exemple simplifi√© de calcul de similarit√©</span><br>
            <span class="keyword">function</span> calculateSimilarity(user1, user2) {<br>
            &nbsp;&nbsp;<span class="keyword">let</span> score = 0;<br>
            &nbsp;&nbsp;<span class="keyword">if</span> (user1.ville === user2.ville) score += 30;<br>
            &nbsp;&nbsp;<span class="keyword">if</span> (user1.profession === user2.profession) score += 25;<br>
            &nbsp;&nbsp;<span class="keyword">if</span> (commonGroups(user1, user2) > 0) score += 20;<br>
            &nbsp;&nbsp;<span class="keyword">if</span> (commonConnections(user1, user2) > 0) score += 15;<br>
            &nbsp;&nbsp;<span class="keyword">return</span> score;<br>
            }
        </div>
        
        <p>
            <strong>Important :</strong> Nous ne vendons jamais vos donn√©es √† des tiers. Les suggestions sont calcul√©es
            uniquement √† partir de donn√©es que vous avez partag√©es publiquement sur la plateforme.
        </p>
    </section>

    <!-- Section 4: Mod√©ration automatique -->
    <section class="section">
        <h2>4. Mod√©ration automatique (IA)</h2>
        
        <p>
            Nous utilisons un syst√®me d'IA pour d√©tecter les contenus potentiellement probl√©matiques avant publication.
            Ce syst√®me vous avertit, mais ne bloque jamais automatiquement sans validation humaine.
        </p>
        
        <div class="algorithm-flow">
            <div class="flow-step">
                <h4>√âtape 1 : Analyse du contenu</h4>
                <p>D√©tection de mots-cl√©s √† risque, analyse de sentiment, v√©rification de coh√©rence</p>
            </div>
            <div class="flow-step">
                <h4>√âtape 2 : Score de risque</h4>
                <p>Attribution d'un score de 0 √† 100 (0 = s√ªr, 100 = tr√®s risqu√©)</p>
            </div>
            <div class="flow-step">
                <h4>√âtape 3 : Avertissement (si score > 50)</h4>
                <p>Affichage d'un avertissement avec possibilit√© de modifier ou publier quand m√™me</p>
            </div>
            <div class="flow-step">
                <h4>√âtape 4 : Publication ou modification</h4>
                <p>Vous choisissez : modifier le contenu ou publier malgr√© l'avertissement</p>
            </div>
        </div>
        
        <div class="example-box">
            <h4>Exemple concret</h4>
            <p>
                <strong>Sc√©nario :</strong> Vous tapez "Ce logement est une arnaque totale, le propri√©taire est un escroc !"
            </p>
            <p>
                <strong>Action :</strong> L'IA d√©tecte des mots √† risque ("arnaque", "escroc") et vous propose de reformuler
                de mani√®re plus constructive, tout en vous laissant la possibilit√© de publier tel quel si vous le souhaitez.
            </p>
        </div>
    </section>

    <!-- Section 5: Transparence totale -->
    <section class="section">
        <h2>5. Notre engagement de transparence</h2>
        
        <p>
            Contrairement √† d'autres plateformes qui gardent leurs algorithmes secrets, nous croyons que la transparence
            renforce la confiance. Voici nos principes :
        </p>
        
        <div class="algorithm-diagram">
            <ul style="font-size: 1.1rem; line-height: 2.5;">
                <li>‚úÖ <strong>Aucun algorithme cach√© :</strong> Tout est expliqu√© publiquement</li>
                <li>‚úÖ <strong>Aucun biais commercial :</strong> Nous ne favorisons pas les annonces payantes</li>
                <li>‚úÖ <strong>Contr√¥le utilisateur :</strong> Vous pouvez toujours choisir l'ordre "R√©cents" au lieu de "Pertinents"</li>
                <li>‚úÖ <strong>Pas de manipulation :</strong> Aucun dark pattern, aucune incitation cach√©e</li>
                <li>‚úÖ <strong>Feedback continu :</strong> Vos retours am√©liorent nos algorithmes</li>
            </ul>
        </div>
    </section>

    <!-- Section 6: Questions fr√©quentes -->
    <section class="section">
        <h2>6. Questions fr√©quentes</h2>
        
        <div class="algorithm-diagram">
            <h3>Puis-je d√©sactiver le classement intelligent ?</h3>
            <p>
                Oui ! Dans les param√®tres de recherche, vous pouvez choisir "Trier par : Date (plus r√©cent)" 
                pour d√©sactiver le classement par pertinence.
            </p>
            
            <h3>Mes donn√©es sont-elles vendues pour am√©liorer les algorithmes ?</h3>
            <p>
                Non. Nous n'utilisons que les donn√©es que vous partagez publiquement sur Transpareo. 
                Aucune vente de donn√©es, aucun tracking externe.
            </p>
            
            <h3>Comment puis-je influencer le classement de mon annonce ?</h3>
            <p>
                En √©tant un bon propri√©taire : r√©pondez rapidement, soyez v√©rifi√©, encouragez les avis positifs.
                Pas besoin de payer pour √™tre en haut de liste.
            </p>
            
            <h3>Les algorithmes √©voluent-ils ?</h3>
            <p>
                Oui, mais toute modification majeure sera annonc√©e publiquement dans cette page. 
                Nous croyons en la transparence totale.
            </p>
        </div>
    </section>
</div>
{% endblock %}

