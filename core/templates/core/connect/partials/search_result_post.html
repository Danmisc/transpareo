{% load static %}
{% load humanize %}
<a href="/connect/posts/{{ post.id }}/" class="search-result-card">
    <div style="display: flex; gap: 12px; align-items: flex-start;">
        {% if post.author.avatar %}
        <img src="{{ post.author.avatar.url }}" alt="{{ post.author.username }}" 
             style="width: 48px; height: 48px; border-radius: 50%; object-fit: cover;">
        {% else %}
        <div style="width: 48px; height: 48px; border-radius: 50%; background: #D3580B; color: white; display: flex; align-items: center; justify-content: center; font-weight: 600;">
            {{ post.author.username|first|upper }}
        </div>
        {% endif %}
        <div style="flex: 1;">
            <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 8px;">
                <strong style="font-size: 14px; color: #111827;">{{ post.author.get_full_name|default:post.author.username }}</strong>
                <span style="font-size: 12px; color: #6B7280;">‚Ä¢</span>
                <span style="font-size: 12px; color: #6B7280;">{{ post.created_at|timesince }}</span>
            </div>
            <p style="margin: 0 0 8px 0; font-size: 14px; color: #111827; line-height: 1.6;">
                {{ post.content|truncatewords:30 }}
            </p>
            {% if first_image %}
            <img src="{{ first_image.image.url }}" alt="Image post" 
                 style="width: 100%; max-width: 300px; border-radius: 8px; margin-top: 8px;">
            {% endif %}
            <div style="display: flex; gap: 16px; margin-top: 12px; font-size: 13px; color: #6B7280;">
                <span>‚ù§Ô∏è {{ post.likes_count|default:0 }} likes</span>
                <span>üí¨ {{ post.comments_count|default:0 }} commentaires</span>
            </div>
        </div>
    </div>
</a>


