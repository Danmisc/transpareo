# Generated by Django 5.2.7 on 2025-11-18 20:29

import django.db.models.deletion
import uuid
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('core', '0028_alter_journalactivite_type_activite'),
    ]

    operations = [
        migrations.CreateModel(
            name='BusinessModelCanvas',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('version', models.IntegerField(default=1, verbose_name='Version')),
                ('partenaires_cles', models.TextField(blank=True, help_text='Agences immobilières, notaires, assureurs, banques...', null=True, verbose_name='Partenaires clés')),
                ('activites_cles', models.TextField(blank=True, help_text='Plateforme de mise en relation, vérification profils, gestion contrats...', null=True, verbose_name='Activités clés')),
                ('ressources_cles', models.TextField(blank=True, help_text='Équipe tech, base de données logements, algorithme matching...', null=True, verbose_name='Ressources clés')),
                ('proposition_valeur', models.TextField(blank=True, help_text='Location transparente avec avis vérifiés, réseau social immobilier...', null=True, verbose_name='Proposition de valeur')),
                ('relations_clients', models.TextField(blank=True, help_text='Self-service, communauté, support personnalisé...', null=True, verbose_name='Relations clients')),
                ('canaux', models.TextField(blank=True, help_text='Site web, app mobile, réseaux sociaux, partenariats...', null=True, verbose_name='Canaux')),
                ('segments_clients', models.TextField(blank=True, help_text='Locataires 20-40 ans, propriétaires particuliers, entreprises...', null=True, verbose_name='Segments clients')),
                ('structure_couts', models.TextField(blank=True, help_text='Développement, serveurs, marketing, salaires, support...', null=True, verbose_name='Structure de coûts')),
                ('flux_revenus', models.TextField(blank=True, help_text='Abonnements premium, commissions, services additionnels...', null=True, verbose_name='Flux de revenus')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Date de création')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Dernière modification')),
                ('share_token', models.UUIDField(default=uuid.uuid4, unique=True, verbose_name='Token de partage')),
                ('share_enabled', models.BooleanField(default=False, verbose_name='Partage activé')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='canvas_created', to=settings.AUTH_USER_MODEL, verbose_name='Créé par')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='canvas_updated', to=settings.AUTH_USER_MODEL, verbose_name='Modifié par')),
            ],
            options={
                'verbose_name': 'Business Model Canvas',
                'verbose_name_plural': 'Business Model Canvas',
                'ordering': ['-updated_at'],
            },
        ),
        migrations.CreateModel(
            name='BusinessPlan',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('version', models.IntegerField(default=1, verbose_name='Version')),
                ('vision', models.TextField(blank=True, null=True, verbose_name='Vision')),
                ('mission', models.TextField(blank=True, null=True, verbose_name='Mission')),
                ('objectifs_1_an', models.JSONField(blank=True, default=list, verbose_name='Objectifs 1 an')),
                ('objectifs_3_ans', models.JSONField(blank=True, default=list, verbose_name='Objectifs 3 ans')),
                ('investissement_requis', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True, verbose_name='Investissement requis (€)')),
                ('roi_prevu', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True, verbose_name='Retour sur investissement prévu (%)')),
                ('nom_entreprise', models.CharField(default='Transpareo', max_length=200, verbose_name='Nom entreprise')),
                ('date_creation', models.DateField(blank=True, null=True, verbose_name='Date de création')),
                ('forme_juridique', models.CharField(choices=[('SAS', 'SAS - Société par Actions Simplifiée'), ('SARL', 'SARL - Société à Responsabilité Limitée'), ('SA', 'SA - Société Anonyme'), ('EURL', 'EURL - Entreprise Unipersonnelle à Responsabilité Limitée'), ('SASU', 'SASU - Société par Actions Simplifiée Unipersonnelle'), ('SCI', 'SCI - Société Civile Immobilière')], default='SAS', max_length=50, verbose_name='Forme juridique')),
                ('capital_social', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True, verbose_name='Capital social (€)')),
                ('siege_social', models.TextField(blank=True, null=True, verbose_name='Siège social')),
                ('equipe_fondatrice', models.JSONField(blank=True, default=list, verbose_name='Équipe fondatrice (nom, rôle, bio)')),
                ('histoire_genese', models.TextField(blank=True, null=True, verbose_name='Histoire et genèse')),
                ('taille_marche', models.DecimalField(blank=True, decimal_places=2, max_digits=15, null=True, verbose_name='Taille du marché')),
                ('unite_marche', models.CharField(blank=True, default='€', max_length=50, verbose_name='Unité marché')),
                ('croissance_annuelle', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True, verbose_name='Croissance annuelle (%)')),
                ('tendances_marche', models.TextField(blank=True, null=True, verbose_name='Tendances marché')),
                ('segments_clients', models.JSONField(blank=True, default=list, verbose_name='Segments clients (tableau)')),
                ('donnees_marche', models.JSONField(blank=True, default=dict, verbose_name='Données marché')),
                ('fonctionnalites_principales', models.JSONField(blank=True, default=list, verbose_name='Fonctionnalités principales')),
                ('proposition_valeur_unique', models.TextField(blank=True, null=True, verbose_name='Proposition de valeur unique')),
                ('roadmap_produit', models.JSONField(blank=True, default=list, verbose_name='Roadmap produit')),
                ('grille_tarifaire', models.JSONField(blank=True, default=list, verbose_name='Grille tarifaire')),
                ('strategie_pricing', models.CharField(choices=[('freemium', 'Freemium'), ('abonnement', 'Abonnement'), ('commission', 'Commission'), ('licence', 'Licence'), ('hybride', 'Hybride')], default='freemium', max_length=50, verbose_name='Stratégie pricing')),
                ('positionnement_prix', models.CharField(blank=True, max_length=100, null=True, verbose_name='Positionnement prix')),
                ('canaux_distribution', models.JSONField(blank=True, default=list, verbose_name='Canaux distribution')),
                ('couverture_geographique', models.JSONField(blank=True, default=list, verbose_name='Couverture géographique')),
                ('plan_expansion', models.TextField(blank=True, null=True, verbose_name='Plan expansion')),
                ('canaux_marketing', models.JSONField(blank=True, default=list, verbose_name='Canaux marketing')),
                ('budget_marketing_annuel', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True, verbose_name='Budget marketing annuel (€)')),
                ('actions_marketing', models.JSONField(blank=True, default=list, verbose_name='Actions marketing prévues')),
                ('infrastructure_technique', models.TextField(blank=True, null=True, verbose_name='Infrastructure technique')),
                ('equipe_recrutements', models.JSONField(blank=True, default=list, verbose_name='Équipe et recrutements (tableau)')),
                ('processus_cles', models.JSONField(blank=True, default=list, verbose_name='Processus clés')),
                ('partenaires_operationnels', models.JSONField(blank=True, default=list, verbose_name='Partenaires opérationnels')),
                ('outils_technologies', models.JSONField(blank=True, default=list, verbose_name='Outils et technologies')),
                ('compte_resultat', models.JSONField(blank=True, default=dict, verbose_name='Compte de résultat prévisionnel')),
                ('tableau_tresorerie', models.JSONField(blank=True, default=dict, verbose_name='Tableau de flux de trésorerie')),
                ('bilans_previsionnels', models.JSONField(blank=True, default=dict, verbose_name='Bilans prévisionnels')),
                ('indicateurs_cles', models.JSONField(blank=True, default=dict, verbose_name='Indicateurs clés')),
                ('forces', models.JSONField(blank=True, default=list, verbose_name='Forces (Strengths)')),
                ('faiblesses', models.JSONField(blank=True, default=list, verbose_name='Faiblesses (Weaknesses)')),
                ('opportunites', models.JSONField(blank=True, default=list, verbose_name='Opportunités (Opportunities)')),
                ('menaces', models.JSONField(blank=True, default=list, verbose_name='Menaces (Threats)')),
                ('annexes_data', models.JSONField(blank=True, default=dict, verbose_name='Données annexes')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Date de création')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Dernière modification')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='business_plans_created', to=settings.AUTH_USER_MODEL, verbose_name='Créé par')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='business_plans_updated', to=settings.AUTH_USER_MODEL, verbose_name='Modifié par')),
            ],
            options={
                'verbose_name': 'Business Plan',
                'verbose_name_plural': 'Business Plans',
                'ordering': ['-updated_at'],
            },
        ),
        migrations.CreateModel(
            name='BusinessPlanComment',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('section', models.CharField(max_length=100, verbose_name='Section')),
                ('comment', models.TextField(verbose_name='Commentaire')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Date de création')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL, verbose_name='Auteur')),
                ('plan', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='comments', to='core.businessplan', verbose_name='Business Plan')),
            ],
            options={
                'verbose_name': 'Commentaire',
                'verbose_name_plural': 'Commentaires',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='BusinessPlanDocument',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=200, verbose_name='Titre')),
                ('document', models.FileField(upload_to='business_plan/annexes/', verbose_name='Document')),
                ('document_type', models.CharField(choices=[('etude_marche', 'Étude de marché'), ('contrat', 'Contrat partenaire'), ('lettre_intention', "Lettre d'intention"), ('brevet', 'Brevet/Marque'), ('autre', 'Autre')], default='autre', max_length=50, verbose_name='Type de document')),
                ('description', models.TextField(blank=True, null=True, verbose_name='Description')),
                ('uploaded_at', models.DateTimeField(auto_now_add=True, verbose_name="Date d'upload")),
                ('plan', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='documents', to='core.businessplan', verbose_name='Business Plan')),
                ('uploaded_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL, verbose_name='Uploadé par')),
            ],
            options={
                'verbose_name': 'Document annexe',
                'verbose_name_plural': 'Documents annexes',
                'ordering': ['-uploaded_at'],
            },
        ),
        migrations.CreateModel(
            name='MarketStudy',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=200, verbose_name="Titre de l'étude")),
                ('description', models.TextField(blank=True, null=True, verbose_name='Description/contexte')),
                ('date_start', models.DateField(blank=True, null=True, verbose_name='Date de début')),
                ('date_end', models.DateField(blank=True, null=True, verbose_name='Date de fin')),
                ('status', models.CharField(choices=[('draft', 'Brouillon'), ('active', 'En cours'), ('completed', 'Terminée'), ('archived', 'Archivée')], default='draft', max_length=20, verbose_name='Statut')),
                ('target_type', models.CharField(choices=[('public', 'Public - Accessible à tous'), ('private', 'Privé - Lien uniquement'), ('shareable', 'Partageable - Lien avec token')], default='public', max_length=20, verbose_name='Type de cible')),
                ('share_token', models.UUIDField(default=uuid.uuid4, unique=True, verbose_name='Token de partage')),
                ('theme_color', models.CharField(default='#D3580B', max_length=7, verbose_name='Couleur du thème')),
                ('logo', models.ImageField(blank=True, null=True, upload_to='market_studies/logos/', verbose_name='Logo')),
                ('completion_message', models.TextField(default='Merci pour votre participation !', verbose_name='Message de fin')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Date de création')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Dernière modification')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='market_studies_created', to=settings.AUTH_USER_MODEL, verbose_name='Créé par')),
            ],
            options={
                'verbose_name': 'Étude de marché',
                'verbose_name_plural': 'Études de marché',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='MarketStudyQuestion',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('order', models.IntegerField(default=0, verbose_name='Ordre')),
                ('question_type', models.CharField(choices=[('text_short', 'Texte court (input)'), ('text_long', 'Texte long (textarea)'), ('single_choice', 'Choix unique (radio)'), ('multiple_choice', 'Choix multiple (checkboxes)'), ('scale', 'Échelle (1-5, 1-10)'), ('nps', 'NPS (Net Promoter Score)'), ('date', 'Date'), ('file', 'Fichier upload')], max_length=50, verbose_name='Type de question')),
                ('label', models.CharField(max_length=500, verbose_name='Libellé de la question')),
                ('description', models.TextField(blank=True, null=True, verbose_name='Description/aide')),
                ('required', models.BooleanField(default=True, verbose_name='Obligatoire')),
                ('options', models.JSONField(blank=True, default=list, verbose_name='Options de réponse')),
                ('scale_min', models.IntegerField(default=1, verbose_name='Échelle min')),
                ('scale_max', models.IntegerField(default=5, verbose_name='Échelle max')),
                ('scale_label_min', models.CharField(blank=True, max_length=100, null=True, verbose_name='Label échelle min')),
                ('scale_label_max', models.CharField(blank=True, max_length=100, null=True, verbose_name='Label échelle max')),
                ('conditional_logic', models.JSONField(blank=True, default=dict, verbose_name='Logique conditionnelle')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Date de création')),
                ('study', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='questions', to='core.marketstudy', verbose_name='Étude')),
            ],
            options={
                'verbose_name': 'Question',
                'verbose_name_plural': 'Questions',
                'ordering': ['order', 'created_at'],
            },
        ),
        migrations.CreateModel(
            name='MarketStudyResponse',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('completed', models.BooleanField(default=False, verbose_name='Complétée')),
                ('started_at', models.DateTimeField(blank=True, null=True, verbose_name='Date de début')),
                ('completed_at', models.DateTimeField(blank=True, null=True, verbose_name='Date de fin')),
                ('ip_address', models.GenericIPAddressField(blank=True, null=True, verbose_name='Adresse IP')),
                ('user_agent', models.TextField(blank=True, null=True, verbose_name='User Agent')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Date de création')),
                ('study', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='responses', to='core.marketstudy', verbose_name='Étude')),
                ('user', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='market_study_responses', to=settings.AUTH_USER_MODEL, verbose_name='Utilisateur')),
            ],
            options={
                'verbose_name': 'Réponse',
                'verbose_name_plural': 'Réponses',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='BusinessModelCanvasVersion',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('version', models.IntegerField(verbose_name='Version')),
                ('partenaires_cles', models.TextField(blank=True, null=True)),
                ('activites_cles', models.TextField(blank=True, null=True)),
                ('ressources_cles', models.TextField(blank=True, null=True)),
                ('proposition_valeur', models.TextField(blank=True, null=True)),
                ('relations_clients', models.TextField(blank=True, null=True)),
                ('canaux', models.TextField(blank=True, null=True)),
                ('segments_clients', models.TextField(blank=True, null=True)),
                ('structure_couts', models.TextField(blank=True, null=True)),
                ('flux_revenus', models.TextField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Date de création')),
                ('canvas', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='versions', to='core.businessmodelcanvas', verbose_name='Canvas')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL, verbose_name='Créé par')),
            ],
            options={
                'verbose_name': 'Version du Canvas',
                'verbose_name_plural': 'Versions du Canvas',
                'ordering': ['-created_at'],
                'unique_together': {('canvas', 'version')},
            },
        ),
        migrations.CreateModel(
            name='BusinessPlanVersion',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('version', models.IntegerField(verbose_name='Version')),
                ('vision', models.TextField(blank=True, null=True)),
                ('mission', models.TextField(blank=True, null=True)),
                ('objectifs_1_an', models.JSONField(blank=True, default=list)),
                ('objectifs_3_ans', models.JSONField(blank=True, default=list)),
                ('investissement_requis', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('roi_prevu', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('nom_entreprise', models.CharField(default='Transpareo', max_length=200)),
                ('date_creation', models.DateField(blank=True, null=True)),
                ('forme_juridique', models.CharField(default='SAS', max_length=50)),
                ('capital_social', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('siege_social', models.TextField(blank=True, null=True)),
                ('equipe_fondatrice', models.JSONField(blank=True, default=list)),
                ('histoire_genese', models.TextField(blank=True, null=True)),
                ('taille_marche', models.DecimalField(blank=True, decimal_places=2, max_digits=15, null=True)),
                ('unite_marche', models.CharField(blank=True, default='€', max_length=50)),
                ('croissance_annuelle', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('tendances_marche', models.TextField(blank=True, null=True)),
                ('segments_clients', models.JSONField(blank=True, default=list)),
                ('donnees_marche', models.JSONField(blank=True, default=dict)),
                ('fonctionnalites_principales', models.JSONField(blank=True, default=list)),
                ('proposition_valeur_unique', models.TextField(blank=True, null=True)),
                ('roadmap_produit', models.JSONField(blank=True, default=list)),
                ('grille_tarifaire', models.JSONField(blank=True, default=list)),
                ('strategie_pricing', models.CharField(default='freemium', max_length=50)),
                ('positionnement_prix', models.CharField(blank=True, max_length=100, null=True)),
                ('canaux_distribution', models.JSONField(blank=True, default=list)),
                ('couverture_geographique', models.JSONField(blank=True, default=list)),
                ('plan_expansion', models.TextField(blank=True, null=True)),
                ('canaux_marketing', models.JSONField(blank=True, default=list)),
                ('budget_marketing_annuel', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('actions_marketing', models.JSONField(blank=True, default=list)),
                ('infrastructure_technique', models.TextField(blank=True, null=True)),
                ('equipe_recrutements', models.JSONField(blank=True, default=list)),
                ('processus_cles', models.JSONField(blank=True, default=list)),
                ('partenaires_operationnels', models.JSONField(blank=True, default=list)),
                ('outils_technologies', models.JSONField(blank=True, default=list)),
                ('compte_resultat', models.JSONField(blank=True, default=dict)),
                ('tableau_tresorerie', models.JSONField(blank=True, default=dict)),
                ('bilans_previsionnels', models.JSONField(blank=True, default=dict)),
                ('indicateurs_cles', models.JSONField(blank=True, default=dict)),
                ('forces', models.JSONField(blank=True, default=list)),
                ('faiblesses', models.JSONField(blank=True, default=list)),
                ('opportunites', models.JSONField(blank=True, default=list)),
                ('menaces', models.JSONField(blank=True, default=list)),
                ('annexes_data', models.JSONField(blank=True, default=dict)),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Date de création')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL, verbose_name='Créé par')),
                ('plan', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='versions', to='core.businessplan', verbose_name='Business Plan')),
            ],
            options={
                'verbose_name': 'Version du Business Plan',
                'verbose_name_plural': 'Versions du Business Plan',
                'ordering': ['-created_at'],
                'unique_together': {('plan', 'version')},
            },
        ),
        migrations.CreateModel(
            name='MarketStudyAnswer',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('answer_value', models.JSONField(verbose_name='Valeur de la réponse')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Date de création')),
                ('question', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='answers', to='core.marketstudyquestion', verbose_name='Question')),
                ('response', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='answers', to='core.marketstudyresponse', verbose_name='Réponse')),
            ],
            options={
                'verbose_name': 'Réponse à une question',
                'verbose_name_plural': 'Réponses aux questions',
                'ordering': ['question__order', 'created_at'],
                'unique_together': {('response', 'question')},
            },
        ),
    ]
